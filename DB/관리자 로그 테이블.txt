CREATE TABLE ADMIN_LOG (
    LOG_ID        NUMBER PRIMARY KEY,
    ADMIN_EMAIL   VARCHAR2(200) NOT NULL,  -- 작업한 관리자
    TARGET_EMAIL  VARCHAR2(200),           -- 대상 유저
    ACTION        VARCHAR2(100) NOT NULL,  -- SUSPEND / UNSUSPEND / ROLE_CHANGE ...
    DETAIL        VARCHAR2(2000),          -- 상세내용 (ex: SUSPEND 7 days)
    CREATED_AT    DATE DEFAULT SYSDATE
);

CREATE SEQUENCE ADMIN_LOG_SEQ START WITH 1 INCREMENT BY 1;

CREATE OR REPLACE TRIGGER ADMIN_LOG_TRG
BEFORE INSERT ON ADMIN_LOG
FOR EACH ROW
BEGIN
    IF :NEW.LOG_ID IS NULL THEN
        SELECT ADMIN_LOG_SEQ.NEXTVAL INTO :NEW.LOG_ID FROM dual;
    END IF;
END;
/